/*! 最终版权归 youngFuns 所有 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22ac244c"],{"02da":function(t,n,e){},2291:function(t,n,e){},5950:function(t,n,e){"use strict";e("ef28")},"799e":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("el-row",[e("el-col",{attrs:{offset:2,span:20}},[e("my-song-show",{attrs:{playListInfoAttr:t.playListInfo,playListCommentsAttr:t.playListComments}}),e("album-coment",{attrs:{albumComentsObj:t.playListComments}}),e("div",{staticClass:"box"},[e("el-pagination",{attrs:{"current-page":t.pagenum,"page-sizes":[50,100,200,400],"page-size":t.queryInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.playListComments.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)],1)},a=[],i=e("1da1"),o=(e("96cf"),e("81f7")),r=e("7fe5"),l=e("b752"),c=e("0250"),u={name:"SingListDet",data:function(){return{playListInfo:{playlist:{creator:{},tracks:[]}},playListComments:{total:null,comments:[],hotComments:[]},queryInfo:{id:"",limit:20,offset:0,before:null},pagenum:1}},created:function(){this.getPlayListRef(),this.getPlayListCommentsRef()},methods:{getPlayListRef:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(l["f"])(t.$store.state.playListId);case 2:e=n.sent,s=e.data,t.playListInfo=s;case 5:case"end":return n.stop()}}),n)})))()},getPlayListCommentsRef:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.queryInfo.id=t.$store.state.playListId,n.next=3,Object(c["b"])(t.queryInfo);case 3:if(e=n.sent,s=e.data,200===s.code){n.next=7;break}return n.abrupt("return",t.$message.error("获取评论失败"));case 7:t.playListComments=s,t.total>5e3&&(t.queryInfo.before=s.comments[s.comments.length-1].time);case 9:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(t){this.queryInfo.limit=t,this.getPlayListCommentsRef()},handleCurrentChange:function(t){this.pagenum=t,this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getPlayListCommentsRef()}},components:{MySongShow:o["a"],AlbumComent:r["a"]}},f=u,p=(e("8e2c"),e("2877")),m=Object(p["a"])(f,s,a,!1,null,"2b9ce3f3",null);n["default"]=m.exports},"81f7":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("el-card",[e("div",{staticClass:"header-contain clearfix"},[e("div",{staticClass:"avater"},[e("img",{attrs:{src:t.playListInfoAttr.playlist.coverImgUrl,alt:""}})]),e("div",{staticClass:"opt clearfix"},[e("div",{staticClass:"clearfix"},[e("div",{staticClass:"bq_box"},[e("span",{staticClass:"bq"},[t._v("歌单")]),e("i",{staticClass:"sanjiao"})]),e("div",{staticClass:"bq_text"},[t._v(t._s(t.playListInfoAttr.playlist.name))])]),e("p",{staticClass:"user_info"},[e("img",{attrs:{src:t.playListInfoAttr.playlist.creator.avatarUrl,alt:""}}),e("span",[e("i",[t._v(t._s(t.playListInfoAttr.playlist.creator.nickname))]),e("i",[t._v("创建时间："+t._s(t._f("dataFormate")(t.playListInfoAttr.playlist.createTime)))])])]),e("det-btn",{attrs:{totalAttr:t.playListCommentsAttr.total,playListInfoAttr:t.playListInfoAttr}}),e("div",{staticClass:"list-dec"},[e("div",[e("span",[t._v("标签：")]),e("span",t._l(t.playListInfoAttr.playlist.tags,(function(n,s){return e("el-tag",{key:s,attrs:{type:"success"}},[t._v(t._s(n))])})),1)]),e("div",[e("span",[t._v("介绍：")]),e("span",[t._v(t._s(t.playListInfoAttr.playlist.description))])])])],1)]),e("div",{staticClass:"show-list"},[e("h4",[e("span",[t._v("歌曲列表")]),e("span",[t._v(t._s(t.playListInfoAttr.playlist.trackCount)+"首歌")]),e("span",[t._v("播放："),e("i",[t._v(t._s(t.playListInfoAttr.playlist.playCount))]),t._v("次")])])]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playListInfoAttr.playlist.tracks,stripe:""}},[e("el-table-column",{attrs:{type:"index",width:"50"}}),e("el-table-column",{attrs:{type:"index",width:"100"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("i",{staticClass:"iconfont icon-hm_video_light",on:{click:function(e){return t.saveAudio(n.row.id)}}}),e("i",{directives:[{name:"show",rawName:"v-show",value:n.row.mv,expression:"scope.row.mv"}],staticClass:"iconfont icon-chakanMV",on:{click:function(e){return t.saveMvId(n.row.mv)}}})]}}])}),e("el-table-column",{attrs:{label:"歌曲标题",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticClass:"row_po",on:{click:function(e){return t.getSongId(n.row.id)}}},[t._v(t._s(n.row.name))])]}}])}),e("el-table-column",{attrs:{label:"时长"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("i",[t._v(t._s(t._f("secondFormate")(n.row.dt)))])]}}])}),e("el-table-column",{attrs:{label:"歌手"},scopedSlots:t._u([{key:"default",fn:function(n){return t._l(n.row.ar,(function(s,a){return e("span",{key:s.id,staticClass:"row_po",on:{click:function(n){return t.getSingerId(s.id)}}},[t._v(t._s(s.name)),a!==n.row.ar.length-1?e("i",[t._v("/")]):t._e()])}))}}])}),e("el-table-column",{attrs:{label:"专辑"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticClass:"row_po",on:{click:function(e){return t.toggleNewSongInfo(n.row.al.id)}}},[t._v(t._s(n.row.al.name))])]}}])})],1)],1)],1)},a=[],i=e("5530"),o=e("af3d"),r=e("5880"),l={name:"MySongShow",props:{playListInfoAttr:{type:Object,default:function(){return{}}},playListCommentsAttr:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(r["mapMutations"])(["albumIdMutations","singerIdMutations","SongIdMutations","musicUrlMutations","onPlayMutations","mvIdMutations"])),Object(r["mapActions"])(["getSongsDetActions"])),{},{toggleNewSongInfo:function(t){this.$router.push("/newSongInfo"),this.albumIdMutations(t)},getSingerId:function(t){this.singerIdMutations(t),this.$router.push("/singer/detail")},getSongId:function(t){this.SongIdMutations(t),this.$router.push("/songs/detail")},saveAudio:function(t){this.musicUrlMutations(t),this.getSongsDetActions(t),this.$bus.$emit("onPlay")},saveMvId:function(t){this.mvIdMutations(t),this.$router.push("/mvdet")}}),components:{DetBtn:o["a"]}},c=l,u=(e("8a5f"),e("2877")),f=Object(u["a"])(c,s,a,!1,null,"217f5317",null);n["a"]=f.exports},"8a5f":function(t,n,e){"use strict";e("02da")},"8e2c":function(t,n,e){"use strict";e("2291")},af3d:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",{staticClass:"opt_btn"},[e("el-button",{attrs:{type:"primary"},on:{click:function(n){t.playAudio(),t.savePlayListId()}}},[e("i",{staticClass:"iconfont icon-bofang"}),t._v("播放 ")]),e("el-button",{attrs:{type:"primary"}},[e("i",{staticClass:"iconfont icon-yinle"}),t._v("收藏 ")]),e("el-button",{attrs:{type:"primary"}},[e("i",{staticClass:"iconfont icon-fenxiang1"}),t._v(" 分享 ")]),e("el-button",{attrs:{type:"primary"}},[e("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载 ")]),e("el-button",{attrs:{type:"primary"}},[e("i",{staticClass:"iconfont icon-xinxi"}),t._v("评论 "),e("span",[t._v("("+t._s(t.totalAttr?t.totalAttr:"0")+")")])])],1)])},a=[],i=e("5530"),o=(e("d81d"),e("5880")),r={name:"DetBtn",props:{totalAttr:null,songDet:{type:Object,default:function(){return{}}},playListInfoAttr:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["mapMutations"])(["musicUrlMutations","musicPlayListId"])),Object(o["mapActions"])(["getSongsDetActions"])),{},{playAudio:function(){void 0!==this.songDet.id&&(this.musicUrlMutations(this.songDet.id),this.getSongsDetActions(this.songDet.id),this.$bus.$emit("onPlay"))},savePlayListId:function(){if(void 0!==this.playListInfoAttr.playlist){var t=this.playListInfoAttr.playlist.tracks.map((function(t){return t.id}));this.musicPlayListId(t),this.getSongsDetActions(t[0]),this.musicUrlMutations(t[0]),this.$bus.$emit("onPlay"),this.$bus.$emit("addMusic")}}})},l=r,c=(e("5950"),e("2877")),u=Object(c["a"])(l,s,a,!1,null,"39f56e8a",null);n["a"]=u.exports},ef28:function(t,n,e){}}]);
//# sourceMappingURL=chunk-22ac244c.a3365b0d.js.map