/*! 最终版权归 youngFuns 所有 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd4cf4e2"],{"1ee6":function(t,n,e){"use strict";e("23f8")},"23f8":function(t,n,e){},5950:function(t,n,e){"use strict";e("ef28")},8756:function(t,n,e){"use strict";e("c842")},af3d:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",{staticClass:"opt_btn"},[e("el-button",{attrs:{type:"primary"},on:{click:function(n){t.playAudio(),t.savePlayListId()}}},[e("i",{staticClass:"iconfont icon-bofang"}),t._v("播放 ")]),e("el-button",{attrs:{type:"primary"}},[e("i",{staticClass:"iconfont icon-yinle"}),t._v("收藏 ")]),e("el-button",{attrs:{type:"primary"}},[e("i",{staticClass:"iconfont icon-fenxiang1"}),t._v(" 分享 ")]),e("el-button",{attrs:{type:"primary"}},[e("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载 ")]),e("el-button",{attrs:{type:"primary"}},[e("i",{staticClass:"iconfont icon-xinxi"}),t._v("评论 "),e("span",[t._v("("+t._s(t.totalAttr?t.totalAttr:"0")+")")])])],1)])},i=[],a=e("5530"),r=(e("d81d"),e("5880")),o={name:"DetBtn",props:{totalAttr:null,songDet:{type:Object,default:function(){return{}}},playListInfoAttr:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["mapMutations"])(["musicUrlMutations","musicPlayListId"])),Object(r["mapActions"])(["getSongsDetActions"])),{},{playAudio:function(){void 0!==this.songDet.id&&(this.musicUrlMutations(this.songDet.id),this.getSongsDetActions(this.songDet.id),this.$bus.$emit("onPlay"))},savePlayListId:function(){if(void 0!==this.playListInfoAttr.playlist){var t=this.playListInfoAttr.playlist.tracks.map((function(t){return t.id}));this.musicPlayListId(t),this.getSongsDetActions(t[0]),this.musicUrlMutations(t[0]),this.$bus.$emit("onPlay"),this.$bus.$emit("addMusic")}}})},c=o,u=(e("5950"),e("2877")),l=Object(u["a"])(c,s,i,!1,null,"39f56e8a",null);n["a"]=l.exports},c842:function(t,n,e){},ef28:function(t,n,e){},f628:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{offset:2,span:15}},[e("el-card",[e("div",{staticClass:"contain"},[e("div",{staticClass:"avatar"},[e("div",{staticClass:"cover"},[e("img",{attrs:{src:t.songDet.al.picUrl,alt:""}}),e("span",{staticClass:"mask"})])]),e("div",{staticClass:"wrop"},[e("h4",[e("span",[t._v(t._s(t.songDet.name))]),t.songDet.mv?e("i",{staticClass:"iconfont icon-MV"}):t._e()]),e("p",{staticClass:"s_name"},[t._v(" 歌手："),t._l(t.songDet.ar,(function(n,s){return e("span",{key:n.id,on:{click:function(e){return t.getSingerId(n.id)}}},[t._v(t._s(n.name)),e("i",[t._v(t._s(s===t.songDet.ar.length-1?"":"/"))])])}))],2),e("p",{staticClass:"al_name"},[t._v(" 所属专辑："),e("span",{on:{click:function(n){return t.getalbumId(t.songDet.al.id)}}},[t._v(t._s(t.songDet.al.name))])]),e("det-btn",{attrs:{totalAttr:t.songComments.total,songDet:t.songDet}}),e("div",{class:t.className},[e("div",{domProps:{innerHTML:t._s(t.lrc)}}),t.showText?e("a",{staticClass:"rc_on",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.onShow.apply(null,arguments)}}},[t._v("展开")]):e("a",{staticClass:"rc_on",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("收起")])])],1)]),e("album-coment",{attrs:{albumComentsObj:t.songComments}})],1),e("el-pagination",{attrs:{"current-page":t.pagenum,"page-sizes":[100,200,300,400],"page-size":t.queryInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.songComments.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("el-col",{attrs:{span:5}},[e("more-songs",{attrs:{simiPlaylistAttr:t.simiPlaylist,simiSongsAttr:t.simiSongs}})],1)],1)],1)},i=[],a=e("1da1"),r=e("5530"),o=(e("a15b"),e("d81d"),e("ac1f"),e("1276"),e("fb6a"),e("96cf"),e("af3d")),c=e("7fe5"),u=e("b752"),l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("el-card",[e("div",{staticClass:"playlist"},[e("h4",[t._v("包含这首歌的歌单")]),e("ul",t._l(t.simiPlaylistAttr,(function(n){return e("li",{key:n.id},[e("div",{on:{click:function(e){return t.getPlaylistId(n.id)}}},[e("img",{attrs:{src:n.coverImgUrl,alt:""}})]),e("div",{staticClass:"tp"},[e("p",{staticClass:"ts",on:{click:function(e){return t.getPlaylistId(n.id)}}},[t._v(t._s(n.name))]),e("p",[e("span",[t._v("by")]),t._v(" "+t._s(n.creator.nickname))])])])})),0)]),e("div",{staticClass:"songs"},[e("h4",[t._v("相似歌曲")]),e("ul",t._l(t.simiSongsAttr,(function(n){return e("li",{key:n.id},[e("div",{staticClass:"s_name"},[e("p",{on:{click:function(e){return t.getSongId(n.id)}}},[t._v(t._s(n.name))]),e("p",t._l(n.artists,(function(s,i){return e("span",{key:i,on:{click:function(n){return t.getSingerId(s.id)}}},[t._v(t._s(s.name)),e("i",[t._v(t._s(i===n.artists.length-1?"":"/"))])])})),0)]),e("div",{staticClass:"s_icon"},[e("i",{staticClass:"iconfont icon-jiantou",on:{click:function(e){return t.playAudio(n.id)}}}),e("i",{staticClass:"iconfont icon-tianjia",on:{click:function(e){return t.savePlayAudioId(n.id)}}})])])})),0)])])],1)},f=[],g=e("5880"),d={name:"MoreSongs",props:{simiPlaylistAttr:{type:Array,default:function(){return[]}},simiSongsAttr:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(g["mapMutations"])(["playListIdMutations","singerIdMutations","SongIdMutations","musicUrlMutations","musicPlayListId"])),Object(g["mapActions"])(["getSongsDetActions"])),{},{getPlaylistId:function(t){this.playListIdMutations(t),this.$router.push("/singlist/detail")},getSingerId:function(t){this.singerIdMutations(t),this.$router.push("/singer/detail")},getSongId:function(t){this.SongIdMutations(t),this.$router.go(0)},playAudio:function(t){this.musicUrlMutations(t),this.getSongsDetActions(t),this.$bus.$emit("onPlay")},savePlayAudioId:function(t){this.musicPlayListId(t),this.$bus.$emit("addMusic")}})},m=d,p=(e("1ee6"),e("2877")),h=Object(p["a"])(m,l,f,!1,null,"666a3088",null),v=h.exports,y=e("0250"),b={name:"SongDet",data:function(){return{songDet:{al:{}},lrc:"",showText:!0,className:"rc",simiPlaylist:[],simiSongs:[],queryInfo:{id:this.$store.state.songId,limit:20,offset:0,before:null},pagenum:1,songComments:{}}},created:function(){this.getSongsDetRef()},methods:Object(r["a"])(Object(r["a"])({getSongsDetRef:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(u["k"])(t.$store.state.songId);case 2:if(e=n.sent,s=e.data,200===s.code){n.next=6;break}return n.abrupt("return",t.$message.error("获取歌曲详情失败"));case 6:t.songDet=s.songs[0],t.getLyricRef(),t.getSimiPlaylistRef(),t.getSimiSongsRef(),t.getSongCommentRef();case 11:case"end":return n.stop()}}),n)})))()},getLyricRef:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(u["b"])(t.$store.state.songId);case 2:e=n.sent,s=e.data,t.lrc=s.lrc.lyric.split("\n").map((function(t){return t.slice(11)})).join("<br>");case 5:case"end":return n.stop()}}),n)})))()},onShow:function(){this.className="rc_s",this.showText=!1},onClose:function(){this.className="rc",this.showText=!0},getSimiPlaylistRef:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(u["h"])(t.$store.state.songId);case 2:e=n.sent,s=e.data,t.simiPlaylist=s.playlists;case 5:case"end":return n.stop()}}),n)})))()},getSimiSongsRef:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(u["j"])(t.$store.state.songId);case 2:e=n.sent,s=e.data,t.simiSongs=s.songs;case 5:case"end":return n.stop()}}),n)})))()},getSongCommentRef:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(y["c"])(t.queryInfo);case 2:e=n.sent,s=e.data,t.songComments=s;case 5:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(t){this.queryInfo.limit=t,this.getSongCommentRef()},handleCurrentChange:function(t){this.pagenum=t,this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getSongCommentRef()}},Object(g["mapMutations"])(["singerIdMutations","albumIdMutations"])),{},{getSingerId:function(t){this.singerIdMutations(t),this.$router.push("/singer/detail")},getalbumId:function(t){this.albumIdMutations(t),this.$router.push("/newSongInfo")}}),components:{DetBtn:o["a"],AlbumComent:c["a"],MoreSongs:v}},_=b,I=(e("8756"),Object(p["a"])(_,s,i,!1,null,"4de6ba19",null));n["default"]=I.exports},fb6a:function(t,n,e){"use strict";var s=e("23e7"),i=e("861d"),a=e("e8b5"),r=e("23cb"),o=e("50c4"),c=e("fc6a"),u=e("8418"),l=e("b622"),f=e("1dde"),g=f("slice"),d=l("species"),m=[].slice,p=Math.max;s({target:"Array",proto:!0,forced:!g},{slice:function(t,n){var e,s,l,f=c(this),g=o(f.length),h=r(t,g),v=r(void 0===n?g:n,g);if(a(f)&&(e=f.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)?i(e)&&(e=e[d],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return m.call(f,h,v);for(s=new(void 0===e?Array:e)(p(v-h,0)),l=0;h<v;h++,l++)h in f&&u(s,l,f[h]);return s.length=l,s}})}}]);
//# sourceMappingURL=chunk-bd4cf4e2.0b88b1ed.js.map