/*! 最终版权归 youngFuns 所有 */(function(t){function e(e){for(var s,i,r=e[0],c=e[1],u=e[2],l=0,d=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,i=1;i<n.length;i++){var r=n[i];0!==a[r]&&(s=!1)}s&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},i={app:0},a={app:0},o=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-02493684":"9b6b266f","chunk-1090a465":"08f83125","chunk-18cff9a2":"da761228","chunk-1b063eab":"c19626bd","chunk-22ac244c":"a3365b0d","chunk-2d20954f":"f461fa4e","chunk-4e1613a7":"f724d590","chunk-53eeab8f":"e99f175d","chunk-7cb248fa":"3f211814","chunk-bd4cf4e2":"0b88b1ed","chunk-f4985afe":"af6c2898"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-02493684":1,"chunk-1090a465":1,"chunk-18cff9a2":1,"chunk-1b063eab":1,"chunk-22ac244c":1,"chunk-4e1613a7":1,"chunk-53eeab8f":1,"chunk-7cb248fa":1,"chunk-bd4cf4e2":1,"chunk-f4985afe":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var s="css/"+({}[t]||t)+"."+{"chunk-02493684":"f4aaf81d","chunk-1090a465":"94dc3f1e","chunk-18cff9a2":"b24455ef","chunk-1b063eab":"a75b43af","chunk-22ac244c":"989a3419","chunk-2d20954f":"31d6cfe0","chunk-4e1613a7":"943baa00","chunk-53eeab8f":"8c063d0b","chunk-7cb248fa":"5e44f39e","chunk-bd4cf4e2":"7b924bc4","chunk-f4985afe":"f3102839"}[t]+".css",a=c.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var u=o[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===s||l===a))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){u=d[r],l=u.getAttribute("data-href");if(l===s||l===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var s=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete i[t],f.parentNode.removeChild(f),n(o)},f.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){i[t]=0})));var s=a[t];if(0!==s)if(s)e.push(s[2]);else{var o=new Promise((function(e,n){s=a[t]=[e,n]}));e.push(s[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",d.name="ChunkLoadError",d.type=s,d.request=i,n[1](d)}a[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0250":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));var s=n("1bab");function i(t){return Object(s["a"])({url:"/comment/album",params:t})}function a(t){return Object(s["a"])({url:"/comment/playlist",params:t})}function o(t){return Object(s["a"])({url:"/comment/music",params:t})}},"0de1":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var s=n("1bab");function i(t,e){return Object(s["a"])({url:"/login/cellphone",params:{phone:t,md5_password:e}})}function a(t){return Object(s["a"])({url:"/user/detail?uid=".concat(t)})}function o(){return Object(s["a"])({url:"/logout"})}},1438:function(t,e,n){"use strict";n("9aad")},"1bab":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=n("cebe"),i=n.n(s),a=n("323e"),o=n.n(a);n("a5d8");function r(t){var e=i.a.create({baseURL:"https://netease-cloud-music-api-2uimf3s0e-xuekeven.vercel.app/",withCredentials:!0});return e.interceptors.request.use((function(t){return o.a.start(),t})),e.interceptors.response.use((function(t){return o.a.done(),t})),e(t)}},2395:function(t,e,n){},"4a0e":function(t,e,n){},"4ee2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("be4f"),n("450d");var s=n("896a"),i=n.n(s),a=(n("0fb7"),n("f529")),o=n.n(a),r=(n("279e"),n("7d94")),c=n.n(r),u=(n("b5c2"),n("20cf")),l=n.n(u),d=(n("e612"),n("dd87")),f=n.n(d),m=(n("075a"),n("72aa")),h=n.n(m),p=(n("cbb5"),n("8bbc")),g=n.n(p),v=(n("0c67"),n("299c")),b=n.n(v),w=(n("e3ea"),n("7bc3")),y=n.n(w),S=(n("5466"),n("ecdf")),I=n.n(S),_=(n("38a0"),n("ad41")),k=n.n(_),C=(n("672e"),n("101e")),x=n.n(C),O=(n("b8e0"),n("a4c4")),$=n.n(O),j=(n("3db2"),n("58b8")),M=n.n(j),L=(n("eca7"),n("3787")),P=n.n(L),U=(n("425f"),n("4105")),R=n.n(U),N=(n("186a"),n("301f")),D=n.n(N),A=(n("96dc"),n("9cea")),V=n.n(A),F=(n("1951"),n("eedf")),q=n.n(F),T=(n("10cb"),n("f3ad")),E=n.n(T),B=(n("f4f9"),n("c2cc")),J=n.n(B),H=(n("7a0f"),n("0f6c")),z=n.n(H),Y=(n("8bd8"),n("4cb2")),X=n.n(Y),K=(n("4ca3"),n("443e")),G=n.n(K),Q=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4de4"),n("4d90"),n("99af"),n("b680"),n("8bbf")),W=n.n(Q),Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contain-top",attrs:{id:"app"}},[n("HeaderMenu"),n("keep-alive",[n("router-view")],1)],1)},tt=[],et=n("5530"),nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("el-row",[s("el-col",{staticClass:"col-left",attrs:{span:3,offset:3}},[s("h1",{staticClass:"logo",on:{click:function(e){return t.setActiveIndex("/home")}}},[s("a",{attrs:{href:"/home"}},[s("img",{attrs:{src:n("cf05")}}),s("span",[t._v("云音乐")])])])]),s("el-col",{staticClass:"col-main",attrs:{span:8}},[s("el-menu",{attrs:{mode:"horizontal","background-color":"#545c64","text-color":"#DFDFDF","active-text-color":"#fff","default-active":this.$store.state.activeIndex,router:"true"},on:{select:t.setActiveIndex}},[s("el-menu-item",{staticClass:"link-div",attrs:{index:"/home"}},[t._v("发现音乐")]),s("el-menu-item",{staticClass:"link-div",attrs:{index:"/mymusic"}},[t._v("我的音乐")]),s("el-menu-item",{staticClass:"link-div",attrs:{index:"/singer"}},[t._v("歌手")]),s("el-menu-item",{staticClass:"link-div",attrs:{index:"/singlist"}},[t._v("歌单")]),s("el-menu-item",{staticClass:"link-div",attrs:{index:"/rank"}},[t._v("排行")])],1)],1),s("el-col",{staticClass:"col-right",attrs:{span:8}},[s("Search"),t.isAvatar?s("div",{staticClass:"login",on:{click:t.login}},[t._v("登录")]):s("div",{staticClass:"avatar",on:{mouseover:t.showUserInfo}},[s("img",{attrs:{src:t.avatarUrl,alt:""}}),s("span",[t._v(t._s(t.nickName))]),s("keep-alive",[s("UserInfo",{scopedSlots:t._u([{key:"level",fn:function(){return[t._v(" 我的等级是："),s("span",{staticClass:"infoFont"},[t._v(t._s(t.userInfoObj.level)+"级")])]},proxy:!0},{key:"listenSongs",fn:function(){return[t._v(" 已听歌曲数量："),s("span",{staticClass:"infoFont"},[t._v(t._s(t.userInfoObj.listenSongs)+"首")])]},proxy:!0},{key:"createDays",fn:function(){return[t._v(" 使用天数："),s("span",{staticClass:"infoFont"},[t._v(t._s(t.userInfoObj.createDays)+"天")])]},proxy:!0}])})],1)],1),s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isButton,expression:"isButton"}],attrs:{type:"primary",size:"mini"},on:{click:t.quit}},[t._v("退出")])],1)],1)],1),s("LoginDialog",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],ref:"loginRef",attrs:{ctrIsShow:t.isShow},on:{ctrClose:t.ctrClosed,ctrLoginBtn:t.ctrLogin}}),s("PlayBar",{directives:[{name:"show",rawName:"v-show",value:t.PlayBarIsShow,expression:"PlayBarIsShow"}],staticClass:"play-bar"}),s("el-backtop",{attrs:{target:".contain-top",bottom:80}},[s("div",[s("i",{staticClass:"iconfont icon-huidaodingbu"})])])],1)},st=[],it=n("1da1"),at=(n("96cf"),n("9c1f")),ot=n("e31c"),rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userInfoBox"},[n("div",{staticClass:"sanjiao"}),n("div",[t._t("level")],2),n("div",[t._t("listenSongs")],2),n("div",[t._t("createDays")],2)])},ct=[],ut={name:"userInfo",data:function(){return{}},methods:{}},lt=ut,dt=(n("1438"),n("2877")),ft=Object(dt["a"])(lt,rt,ct,!1,null,"1e29e2ae",null),mt=ft.exports,ht=n("f103"),pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrop-plybar",on:{mouseenter:t.touchPlayBar,mouseleave:t.leavePlayBar}},[n("div",{staticClass:"r_s_wrop"},[n("a",{staticClass:"lock",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.lock.apply(null,arguments)}}})]),n("el-row",[n("el-col",{attrs:{offset:2,span:20}},[n("div",{staticClass:"contain"},[n("div",{staticClass:"left-p"},[n("div",{staticClass:"left-p-l",on:{click:t.preSong}}),n("div",{staticClass:"left-p-m",on:{click:t.playAudio}}),n("div",{staticClass:"left-p-r",on:{click:t.nextSong}})]),n("div",{staticClass:"mid-p"},[n("img",{attrs:{src:t.songsDet.al.picUrl,alt:""},on:{click:t.saveSongId}}),n("div",{staticClass:"m_wr"},[n("p",[n("span",{on:{click:t.saveSongId}},[t._v(t._s(t.songsDet.name)+" ")]),t.songsDet.mv?n("i",{staticClass:"iconfont icon-chakanMV m_wr_mv"}):t._e(),n("span",{staticClass:"m_wr_s_s"},t._l(t.songsDet.ar,(function(e,s){return n("span",{key:s,staticClass:"m_wr_s_i"},[n("i",{on:{click:function(n){return t.saveSingerId(e.id)}}},[t._v(t._s(e.name))]),n("i",[t._v(t._s(s===t.songsDet.ar.length-1?"":"/"))])])})),0)]),n("div",{staticClass:"playbar-wrop"},[n("i",{staticClass:"loadingAn"}),n("el-slider",{attrs:{"show-tooltip":!1,max:t.songsDet.dt/1e3},on:{change:t.slideChange,mousedown:function(e){t.flag=!0},mouseup:function(e){t.flag=!1}},model:{value:t.playValue,callback:function(e){t.playValue=e},expression:"playValue"}}),n("p",{staticClass:"m_time"},[n("i",[t._v(t._s(t._f("secondFormate")(1e3*t.playValue)))]),n("i",[t._v(t._s(t._f("secondFormate")(1e3*t.duration)))])])],1)])]),n("div",{staticClass:"right-p-l"},[n("a",{attrs:{title:"画中画歌词"}}),n("a",{attrs:{title:"收藏"}}),n("a",{attrs:{title:"分享"}})]),n("div",{staticClass:"right-p-r"},[n("a",{on:{click:t.clickAudio}},[n("el-slider",{directives:[{name:"show",rawName:"v-show",value:t.audioShow,expression:"audioShow"}],staticClass:"audio-slider",attrs:{"show-tooltip":!1,vertical:!0,height:"100px"},on:{change:t.changeAudio},model:{value:t.audioValue,callback:function(e){t.audioValue=e},expression:"audioValue"}})],1),n("a",{staticClass:"loopStatus",attrs:{title:t.titleTip},on:{click:t.changeLoopStatus}}),n("a",{attrs:{title:"播放列表"},on:{click:t.close}},[n("i",[t._v(t._s(t.$store.state.musicPlayListId.length))])])]),n("music-playlist",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"m-playlist",attrs:{duration:t.duration},on:{closeDialog:t.close}}),n("audio",{ref:"audioRef",attrs:{src:t.musicUrl,loop:t.isLoop},on:{loadstart:t.togglePlay,timeupdate:t.updateTime,ended:t.playOver,waiting:t.loadingAn}})],1)])],1)],1)},gt=[],vt=(n("d3b7"),n("5880")),bt=n.n(vt),wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"g_playlist"},[n("div",{staticClass:"g_header"},[n("div",{staticClass:"header-l"},[n("span",[t._v("播放列表"+t._s(t.playMusicList.length))]),n("span",[n("i",{staticClass:"iconfont icon-shanchu",on:{click:t.clearList}}),n("i",{on:{click:t.clearList}},[t._v("清除")])])]),n("div",{staticClass:"header-r"},[n("span",[t._v(t._s(t.currentName))]),n("span",{on:{click:t.close}},[t._v("×")])])]),n("div",{staticClass:"g_content"},[n("ul",t._l(t.playMusicList,(function(e){return n("li",{key:e.id,class:[e.id==t.$store.state.musicUrl.id?"add-class":""]},[n("span",{staticClass:"s_name",on:{click:function(n){return t.clickPlaySong(e.id)}}},[t._v(t._s(e.name))]),n("div",{staticClass:"d_box"},[n("div",{staticClass:"d_con"},t._l(e.ar,(function(s,i){return n("span",{key:s.id,staticClass:"e_name",attrs:{title:s.name},on:{click:function(e){return t.savesingerId(s.id)}}},[t._v(" "+t._s(s.name)+" "),n("i",[t._v(t._s(i===e.ar.length-1?"":"/"))])])})),0),n("span",{staticClass:"s_time"},[t._v(t._s(t._f("secondFormate")(e.dt)))])])])})),0),n("div",{staticClass:"lrc"},[n("div",{staticClass:"lrc_c"},t._l(t.lrcInfo,(function(e,s){return n("p",{key:s,ref:"lrcRef",refInFor:!0,class:[t.active===s?"lineLight":""],attrs:{"data-index":s}},[t._v(" "+t._s(e.lrc)+" ")])})),0),t._m(0)])])])])},yt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-r"},[n("div",{staticClass:"s-scorll-r"})])}],St=(n("159b"),n("b0c0"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),n("466d"),n("b752"));function It(t,e,n){0==e&&(e=500);var s=n/e*n+"px";s<="10px"&&(s="10px"),n/e>=1&&(t.style.display="none"),t.style.height=s}function _t(t,e,n,s){var i=0;t.addEventListener("mousewheel",(function(a){a.stopPropagation(),a.preventDefault();var o=n.clientHeight+40;a.wheelDeltaY<0?i+=10:a.wheelDeltaY>0&&(i-=10),i<=0&&(i=0),i>=t.clientHeight-e.clientHeight&&(i=t.clientHeight-e.clientHeight),e.style.top=i+"px",n.style.top=-i/t.clientHeight*o+"px",s(o)}))}var kt={name:"MusicPlaylist",props:{duration:null},data:function(){return{musicUrl:this.$store.state.musicUrl,currentName:"",playMusicList:[],lrcInfo:[{duration:"",lrc:""}],active:0,currentTime:null}},mounted:function(){var t=this;this.$bus.$on("currentTime",(function(e){t.currentTime=e;var n=[];t.lrcInfo.forEach((function(s,i){parseInt(s.duration)<=e&&(n.push(i),t.active=n[n.length-1]),t.duration==t.currentTime&&(document.querySelector(".s-scorll-r").style.top=0,document.querySelector(".lrc_c").style.top=0)}))}))},created:function(){var t=this;""!==this.$store.state.musicUrl.id&&(Object(St["k"])(this.$store.state.musicUrl.id).then((function(e){t.currentName=e.data.songs[0].name})),this.getPlayMusicLrc(),this.getPlayMusicList()),this.$bus.$on("addMusic",(function(){t.getPlayMusicList()}))},watch:{musicUrl:{handler:function(){var t=this;this.getPlayMusicLrc(),Object(St["k"])(this.$store.state.musicUrl.id).then((function(e){t.currentName=e.data.songs[0].name})),this.getPlayMusicList()},deep:!0},lrcInfo:{handler:function(){var t=document.querySelector(".lrc_c"),e=document.querySelector(".lrc"),n=document.querySelector(".s-scorll-r"),s=260;function i(t){It(n,t,s)}_t(e,n,t,i)},deep:!0},active:{handler:function(){if(this.active>=3&&this.active<=this.lrcInfo.length-2){var t=document.querySelector(".s-scorll-r"),e=document.querySelector(".lrc_c").clientHeight,n=260;It(t,e,n),document.querySelector(".lrc_c").style.top=-35*(this.active-3)+"px",t.style.top=35/e*240*(this.active-3)+"px"}}}},methods:Object(et["a"])(Object(et["a"])({},Object(vt["mapMutations"])(["musicUrlMutations","singerIdMutations","clearPlaylist"])),{},{close:function(){this.$emit("closeDialog")},getPlayMusicList:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(St["k"])(t.$store.state.musicPlayListId.join(","));case 2:n=e.sent,s=n.data,t.playMusicList=s.songs;case 5:case"end":return e.stop()}}),e)})))()},getPlayMusicLrc:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(St["b"])(t.$store.state.musicUrl.id);case 2:if(n=e.sent,s=n.data,200===s.code){e.next=6;break}return e.abrupt("return",t.$message.error("获取歌词失败"));case 6:s.lrc?t.lrcInfo=s.lrc.lyric.split("\n").map((function(t,e){return e<s.lrc.lyric.split("\n").length-1?{duration:60*t.match(/^\[+([0-5][0-9]):([0-5][0-9]\.[0-9][0-9]+)\]/)[1]+ +t.match(/^\[+([0-5][0-9]):([0-5][0-9]\.[0-9][0-9]+)\]/)[2],lrc:t.split(/\s*\n*\[.*?\]\s*/).filter((function(t){return!!t})).join("")}:{duration:null,lrc:""}})):t.lrcInfo.lrc=[];case 7:case"end":return e.stop()}}),e)})))()},clickPlaySong:function(t){this.musicUrlMutations(t),this.$bus.$emit("onPlay")},savesingerId:function(t){this.$emit("closeDialog"),this.singerIdMutations(t),window.sessionStorage.setItem("songId",JSON.stringify(t)),this.$router.push("/singer/detail")},clearList:function(){this.clearPlaylist(),window.localStorage.removeItem("musicPlayListId"),window.localStorage.removeItem("musicUrl"),this.playMusicList=[]}})},Ct=kt,xt=(n("d34e"),Object(dt["a"])(Ct,wt,yt,!1,null,"717007c0",null)),Ot=xt.exports,$t={name:"PlayBar",data:function(){return{isShow:!1,play:!0,playValue:0,musicUrl:"",songsDet:{al:{},name:"",picUrl:"",ar:[]},duration:null,audioShow:!1,audioValue:50,lockStatus:!1,isLoop:!1,loopStatus:0,titleTip:"列表播放"}},created:function(){this.getSongDet()},mounted:function(){var t=this;document.onmousewheel=function(){t.leavePlayBar(),document.onmousewheel=null}},methods:Object(et["a"])(Object(et["a"])(Object(et["a"])({},Object(vt["mapMutations"])(["musicUrlMutations","SongIdMutations","singerIdMutations"])),Object(vt["mapActions"])(["getSongsDetActions"])),{},{close:function(){this.isShow=!this.isShow},playAudio:function(){var t=this,e=this.$refs.audioRef;this.play?(document.querySelector(".left-p-m").style.backgroundPosition="-40px -165px",new Promise((function(e,n){t.musicUrl=t.$store.state.musicUrl.url,e(),n(err)})).then((function(){e.play(),t.getSongDet(),t.play=!1})).catch((function(t){return t}))):(document.querySelector(".left-p-m").style.backgroundPosition="0 -204px",e.pause(),this.play=!0)},getSongDet:function(){""!==this.$store.state.musicUrl.id&&(this.getSongsDetActions(this.$store.state.musicUrl.id),this.songsDet=this.$store.state.currentMusicInfo)},updateTime:function(){this.flag||(this.duration=this.$refs.audioRef.duration,this.playValue=this.$refs.audioRef.currentTime,this.$bus.$emit("currentTime",this.$refs.audioRef.currentTime)),parseInt(this.playValue)===parseInt(this.$refs.audioRef.duration)&&(this.playValue=0),document.querySelector(".loadingAn").style.display="none"},playOver:function(){if(document.querySelector(".left-p-m").style.backgroundPosition="0 -204px",this.duration=null,0===this.loopStatus)this.nextSong();else if(2===this.loopStatus){var t=this.$store.state.musicPlayListId,e=Math.floor(Math.random()*t.length+1)-1;this.musicUrlMutations(t[e]),this.getSongsDetActions(t[e]),this.play=!0,this.playAudio()}else 1===this.loopStatus&&(this.play=!0,this.playAudio())},slideChange:function(t){this.$refs.audioRef.currentTime=t,this.playValue=t},togglePlay:function(){var t=this;this.$bus.$on("onPlay",(function(){t.playAudio()}))},preSong:function(){if(this.$store.state.musicPlayListId.length>1&&this.$store.state.musicUrl.id!=this.$store.state.musicPlayListId[0]){var t=this.$store.state.musicPlayListId.indexOf(this.$store.state.musicUrl.id)-1;this.musicUrlMutations(this.$store.state.musicPlayListId[t]),this.getSongsDetActions(this.$store.state.musicPlayListId[t]),this.play=!0,this.playAudio()}},nextSong:function(){if(this.$store.state.musicPlayListId.length>1&&this.$store.state.musicUrl.id!=this.$store.state.musicPlayListId[this.$store.state.musicPlayListId.length-1]){var t=this.$store.state.musicPlayListId.indexOf(this.$store.state.musicUrl.id)+1;this.musicUrlMutations(this.$store.state.musicPlayListId[t]),this.getSongsDetActions(this.$store.state.musicPlayListId[t]),this.play=!0,this.playAudio()}},clickAudio:function(){this.audioShow=!this.audioShow},changeAudio:function(){document.querySelector("audio").volume=this.audioValue/100},lock:function(){this.lockStatus?(document.querySelector(".lock").style.backgroundPosition="-80px -380px",this.lockStatus=!1):(document.querySelector(".lock").style.backgroundPosition="-100px -400px",this.lockStatus=!0)},touchPlayBar:function(){document.querySelector(".wrop-plybar").style.bottom="0"},leavePlayBar:function(){this.lockStatus||this.isShow?document.querySelector(".wrop-plybar").style.bottom="0":document.querySelector(".wrop-plybar").style.bottom="-45px"},saveSongId:function(){"/songs/detail"!==this.$route.path?(this.SongIdMutations(this.$store.state.musicUrl.id),this.$router.push("/songs/detail")):this.$router.go(0)},saveSingerId:function(t){this.singerIdMutations(t),this.$router.push("/singer/detail")},loadingAn:function(){document.querySelector(".loadingAn").style.display="block"},changeLoopStatus:function(){0===this.loopStatus?(this.loopStatus=2,this.titleTip="随机循环",this.isLoop=!1,document.querySelector(".loopStatus").style.backgroundPosition="-66px -248px"):2===this.loopStatus?(this.loopStatus=1,this.titleTip="单曲循环",this.isLoop=!0,document.querySelector(".loopStatus").style.backgroundPosition="-66px -344px"):(this.loopStatus=1)&&(this.loopStatus=0,this.titleTip="列表播放",this.isLoop=!1,document.querySelector(".loopStatus").style.backgroundPosition="-3px -344px")}}),computed:{},components:{MusicPlaylist:Ot}},jt=$t,Mt=(n("f134"),Object(dt["a"])(jt,pt,gt,!1,null,"7bcc8890",null)),Lt=Mt.exports,Pt=n("a78e"),Ut=n.n(Pt),Rt="__remember_me";function Nt(){return Ut.a.remove(Rt)}var Dt=n("0de1"),At={name:"headerMenu",components:{LoginDialog:at["a"],Search:ot["a"],UserInfo:mt,NewSongInfo:ht["default"],PlayBar:Lt},data:function(){return{isShow:!1,isAvatar:!0,avatarUrl:"",nickName:"",userInfoObj:{level:0,listenSongs:null,createDays:null},isButton:!1,PlayBarIsShow:!0}},created:function(){this.isLogin()},methods:{isLogin:function(){null!==this.$store.state.profile&&(this.isAvatar=!1,this.isButton=!0,this.avatarUrl=this.$store.state.profile.avatarUrl,this.nickName=this.$store.state.profile.nickName)},login:function(){this.isShow=!0},ctrClosed:function(){this.isShow=!1,this.isAvatar=!0,this.isButton=!1},ctrLogin:function(){this.isShow=!1,this.isAvatar=!1,this.isButton=!0,this.avatarUrl=this.$store.state.profile.avatarUrl,this.nickName=this.$store.state.profile.nickName},showUserInfo:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.userInfoObj.level){e.next=8;break}return e.next=3,Object(Dt["b"])(t.$store.state.profile.userId);case 3:n=e.sent,s=n.data,t.userInfoObj.level=s.level,t.userInfoObj.listenSongs=s.listenSongs,t.userInfoObj.createDays=s.createDays;case 8:case"end":return e.stop()}}),e)})))()},quit:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Dt["a"])();case 2:n=e.sent,s=n.data,200===s.code&&(t.$message.info("已退出登录"),t.isAvatar=!0,t.isButton=!1,window.sessionStorage.removeItem("profile"),Nt("__remember_me"),"/mymusic"===t.$route.path&&(t.$router.push("/home"),window.sessionStorage.setItem("activeIndex","/home"),t.$store.state.activeIndex="/home"));case 5:case"end":return e.stop()}}),e)})))()},setActiveIndex:function(t){this.$store.state.activeIndex=t,window.sessionStorage.setItem("activeIndex",t)}}},Vt=At,Ft=(n("fcc3"),Object(dt["a"])(Vt,nt,st,!1,null,"7a3d583b",null)),qt=Ft.exports,Tt={components:{HeaderMenu:qt},created:function(){this.albumIdMutations(JSON.parse(window.sessionStorage.getItem("albumId"))),this.singerIdMutations(JSON.parse(window.sessionStorage.getItem("singerId"))),this.playListIdMutations(JSON.parse(window.sessionStorage.getItem("playListId"))),this.profileMutations(JSON.parse(window.sessionStorage.getItem("profile"))),this.SongIdMutations(JSON.parse(window.sessionStorage.getItem("songId"))),window.localStorage.getItem("musicUrl")&&this.updataMusicUrl(JSON.parse(window.localStorage.getItem("musicUrl"))),window.localStorage.getItem("musicPlayListId")&&this.updataMusicPlayListId(JSON.parse(window.localStorage.getItem("musicPlayListId"))),window.localStorage.getItem("currentMusicInfo")&&this.songDetMutations(JSON.parse(window.localStorage.getItem("currentMusicInfo"))),window.sessionStorage.getItem("mvId")&&this.mvIdMutations(JSON.parse(window.sessionStorage.getItem("mvId"))),window.sessionStorage.getItem("searchValue")&&this.searchValueMutations(JSON.parse(window.sessionStorage.getItem("searchValue"))),null===window.sessionStorage.getItem("activeIndex")?this.$store.state.activeIndex="/home":this.$store.state.activeIndex=window.sessionStorage.getItem("activeIndex")},methods:Object(et["a"])({},Object(vt["mapMutations"])(["profileMutations","albumIdMutations","singerIdMutations","playListIdMutations","SongIdMutations","updataMusicUrl","updataMusicPlayListId","mvIdMutations","songDetMutations","searchValueMutations"]))},Et=Tt,Bt=(n("7c55"),Object(dt["a"])(Et,Z,tt,!1,null,null,null)),Jt=Bt.exports,Ht=(n("3ca3"),n("ddb0"),n("6389")),zt=n.n(Ht),Yt=function(){return n.e("chunk-7cb248fa").then(n.bind(null,"b3d7"))},Xt=function(){return n.e("chunk-1090a465").then(n.bind(null,"3b5a"))},Kt=function(){return n.e("chunk-02493684").then(n.bind(null,"2b27"))},Gt=function(){return n.e("chunk-f4985afe").then(n.bind(null,"87cb"))},Qt=function(){return n.e("chunk-4e1613a7").then(n.bind(null,"0e05"))},Wt=function(){return n.e("chunk-53eeab8f").then(n.bind(null,"747b"))},Zt=function(){return n.e("chunk-2d20954f").then(n.bind(null,"a934"))},te=function(){return n.e("chunk-18cff9a2").then(n.bind(null,"a055"))},ee=function(){return n.e("chunk-bd4cf4e2").then(n.bind(null,"f628"))},ne=function(){return n.e("chunk-1b063eab").then(n.bind(null,"18f9"))},se=function(){return n.e("chunk-22ac244c").then(n.bind(null,"799e"))},ie=function(){return Promise.resolve().then(n.bind(null,"f103"))};W.a.use(zt.a);var ae=[{path:"/",redirect:"/home"},{path:"/home",component:Yt},{path:"/mymusic",component:Xt},{path:"/singer",component:Kt},{path:"/singlist",component:Gt},{path:"/rank",component:Qt},{path:"/search/result",component:Wt},{path:"/login",component:Zt},{path:"/mvdet",component:te},{path:"/songs/detail",component:ee},{path:"/singer/detail",component:ne},{path:"/singlist/detail",component:se},{path:"/newSongInfo",component:ie}],oe=new zt.a({routes:ae,mode:"history"});oe.beforeEach((function(t,e,n){"/mymusic"===t.path&&null===window.sessionStorage.getItem("profile")&&n("/login"),n()}));var re=oe,ce={activeIndex:"",cookie:!1,profile:{nickName:"",avatarUrl:"",userId:""},resSongs:[],albumId:"",singerId:"",playListId:"",songId:"",musicUrl:{url:"",id:""},currentMusicInfo:{al:{},name:"",picUrl:"",ar:[]},musicPlayListId:[],mvId:"",searchValue:""},ue=n("53ca"),le={profileMutations:function(t,e){t.profile=e},albumIdMutations:function(t,e){t.albumId=e,window.sessionStorage.setItem("albumId",JSON.stringify(e))},singerIdMutations:function(t,e){t.singerId=e,window.sessionStorage.setItem("singerId",JSON.stringify(e))},playListIdMutations:function(t,e){t.playListId=e,window.sessionStorage.setItem("playListId",JSON.stringify(e))},SongIdMutations:function(t,e){t.songId=e,window.sessionStorage.setItem("songId",JSON.stringify(e))},musicUrlMutations:function(t,e){t.musicUrl.url="https://music.163.com/song/media/outer/url?id=".concat(e,".mp3"),t.musicUrl.id=e,-1===t.musicPlayListId.indexOf(e)&&t.musicPlayListId.push(e),window.localStorage.setItem("musicUrl",JSON.stringify(t.musicUrl)),window.localStorage.setItem("musicPlayListId",JSON.stringify(t.musicPlayListId))},songDetMutations:function(t,e){t.currentMusicInfo.al=e.al,t.currentMusicInfo.name=e.name,t.currentMusicInfo.picUrl=e.picUrl,t.currentMusicInfo.ar=e.ar,t.currentMusicInfo.dt=e.dt,t.currentMusicInfo.mv=e.mv,window.localStorage.setItem("currentMusicInfo",JSON.stringify(t.currentMusicInfo))},updataMusicUrl:function(t,e){t.musicUrl=e},musicPlayListId:function(t,e){"object"===Object(ue["a"])(e)?e.forEach((function(e){-1===t.musicPlayListId.indexOf(e)&&t.musicPlayListId.push(e)})):"number"===typeof e&&-1===t.musicPlayListId.indexOf(e)&&t.musicPlayListId.push(e),window.localStorage.setItem("musicPlayListId",JSON.stringify(t.musicPlayListId))},updataMusicPlayListId:function(t,e){t.musicPlayListId=e},clearPlaylist:function(t){t.musicPlayListId=[]},mvIdMutations:function(t,e){t.mvId=e,window.sessionStorage.setItem("mvId",JSON.stringify(e))},searchValueMutations:function(t,e){t.searchValue=e,window.sessionStorage.setItem("searchValue",JSON.stringify(e))}},de={getSongsDetActions:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function n(){var s,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,n.next=3,Object(St["k"])(e);case 3:i=n.sent,a=i.data,s("songDetMutations",a.songs[0]);case 6:case"end":return n.stop()}}),n)})))()}};W.a.use(bt.a);var fe=new bt.a.Store({state:ce,mutations:le,actions:de}),me=(n("aede"),n("e382"),n("4ee2"),n("a342"),n("8237")),he=n.n(me);W.a.use(G.a),W.a.use(X.a),W.a.use(z.a),W.a.use(J.a),W.a.use(E.a),W.a.use(q.a),W.a.use(V.a),W.a.use(D.a),W.a.use(R.a),W.a.use(P.a),W.a.use(M.a),W.a.use($.a),W.a.use(x.a),W.a.use(k.a),W.a.use(I.a),W.a.use(y.a),W.a.use(b.a),W.a.use(g.a),W.a.use(h.a),W.a.use(f.a),W.a.use(l.a),W.a.use(c.a),W.a.prototype.$message=o.a,W.a.prototype.$loading=i.a,W.a.prototype.$bus=new W.a,W.a.prototype.$md5=he.a,W.a.filter("dataFormate",(function(t){var e=new Date(t),n=e.getFullYear(),s=(e.getMonth()+1+"").padStart(2,"0"),i=(e.getDate()+"").padStart(2,"0");return"".concat(n,"-").concat(s,"-").concat(i)})),W.a.filter("secondFormate",(function(t){var e=parseFloat(t)/1e3;return 0===t||isNaN(t)?"00:00":null==e||""==e?"".concat((parseInt(parseFloat(e/60/60))+"").padStart(2,"0"),":").concat((parseInt(parseFloat(e/60%60))+"").padStart(2,"0"),":").concat((parseInt(parseFloat(e/60%60*60%60))+"").padStart(2,"0")):e<60?"00:".concat((parseInt(e)+"").padStart(2,"0")):e>=60&&e<=3600?"".concat((parseInt(parseFloat(e/60))+"").padStart(2,"0"),":").concat((parseInt(parseFloat(e%60))+"").padStart(2,"0")):void 0})),W.a.filter("counFormate",(function(t){return"".concat(t<1e4?(t/1e4).toFixed(2):Math.ceil(t/1e4),"万")})),W.a.config.productionTip=!1,new W.a({router:re,store:fe,render:function(t){return t(Jt)}}).$mount("#app")},5880:function(t,e){t.exports=Vuex},6027:function(t,e,n){},"60e3":function(t,e,n){},6389:function(t,e){t.exports=VueRouter},6797:function(t,e,n){},"7aa4":function(t,e,n){},"7c55":function(t,e,n){"use strict";n("2395")},"7fe5":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"comment"},[n("p",{staticClass:"comment-header"},[t._v(" 热门评论 "),n("span",[t._v("共"+t._s(t.albumComentsObj.total)+"条评论")])]),n("ul",t._l(t.albumComentsObj.hotComments,(function(e){return n("li",{key:e.commentId},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.user.avatarUrl}})]),n("div",{staticClass:"info"},[n("a",{attrs:{href:"#"}},[t._v(t._s(e.user.nickname))]),t._v("： "),n("span",[t._v(t._s(e.content))]),n("p",{staticClass:"rp"},[t._v(t._s(t._f("dataFormate")(e.time)))])]),n("div",{staticClass:"beReplied"},[t._l(e.beReplied,(function(e,s){return n("div",{key:s,staticClass:"beReplied_pl"},[n("span",[n("img",{attrs:{src:e.user.avatarUrl,alt:""}}),n("i",[t._v(t._s(e.user.nickname))]),t._v("：")]),n("span",[t._v(t._s(e.content))])])})),n("el-divider",{staticClass:"line"})],2)])})),0),n("div",[n("p",{staticClass:"hot"},[t._v("所有评论")]),n("el-divider"),n("ul",t._l(t.albumComentsObj.comments,(function(e){return n("li",{key:e.commentId},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.user.avatarUrl}})]),n("div",{staticClass:"info"},[n("a",{attrs:{href:"#"}},[t._v(t._s(e.user.nickname))]),t._v("： "),n("span",[t._v(t._s(e.content))]),n("p",{staticClass:"rp"},[t._v(t._s(t._f("dataFormate")(e.time)))])]),n("div",{staticClass:"beReplied"},[t._l(e.beReplied,(function(e,s){return n("div",{key:s,staticClass:"beReplied_pl"},[n("span",[n("img",{attrs:{src:e.user.avatarUrl,alt:""}}),n("i",[t._v(t._s(e.user.nickname))]),t._v(" ：")]),n("span",[t._v(t._s(e.content))])])})),n("el-divider",{staticClass:"line"})],2)])})),0)],1)])])},i=[],a={name:"AlbumComent",props:{albumComentsObj:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{}},o=a,r=(n("a3ed"),n("2877")),c=Object(r["a"])(o,s,i,!1,null,"019c2840",null);e["a"]=c.exports},"84a1":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));var s=n("1bab");function i(t){return Object(s["a"])({url:"/search/suggest?keywords=".concat(t)})}function a(t){return Object(s["a"])({url:"/cloudsearch",params:t})}},"8bbf":function(t,e){t.exports=Vue},"9aad":function(t,e,n){},"9c1f":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mask"}),n("div",{ref:"loginBoxRef",staticClass:"loginBox"},[n("h2",{on:{mousedown:t.moveLogin}},[n("span",[t._v("登录")]),n("span",{on:{click:t.close}},[t._v("×")])]),n("div",{staticClass:"login"},[n("el-form",{ref:"loginRef",attrs:{model:t.loginForm,rules:t.loginRules,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[n("el-input",{model:{value:t.loginForm.phone,callback:function(e){t.$set(t.loginForm,"phone",e)},expression:"loginForm.phone"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password","show-password":""},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginBtn.apply(null,arguments)}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.loginBtn}},[t._v("登录")])],1)],1)],1)])])},i=[],a=n("1da1"),o=n("5530"),r=(n("96cf"),n("0de1")),c=n("5880"),u={name:"login",props:["ctrIsShow"],data:function(){var t=function(t,e,n){var s=/^(0|86|17951)?(13[0-9]|15[0123456789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;if(s.test(e))return n();n(new Error("请输入合法手机号"))};return{loginForm:{phone:null,password:""},loginRules:{phone:[{required:!0,message:"请输入手机",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"用户名长度在6~15个字符",trigger:"blur"}]},toggle:!1,time:null}},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["profileMutations"])),{},{close:function(){this.$emit("ctrClose"),this.$refs.loginRef.resetFields(),"/login"===this.$route.path&&(this.$router.push("/home"),window.sessionStorage.setItem("activeIndex","/home"),this.$store.state.activeIndex="/home")},togglePh:function(){this.toggle=!1,this.qrShow=!1},loginBtn:function(){var t=this;this.$refs.loginRef.validate((function(e){if(!e)return t.$message.info("请检查手机号或密码后重试");t.getLoginInfo()}))},getLoginInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["c"])(t.loginForm.phone,t.$md5(t.loginForm.password));case 2:if(n=e.sent,s=n.data,200===s.code){e.next=6;break}return e.abrupt("return",t.$message.error("登录失败"));case 6:i={nickName:s.profile.nickname,avatarUrl:s.profile.avatarUrl,userId:s.profile.userId},t.profileMutations(i),window.sessionStorage.setItem("profile",JSON.stringify(i)),t.$emit("ctrLoginBtn"),"/login"===t.$route.path&&(t.$router.push("/mymusic"),window.sessionStorage.setItem("activeIndex","/mymusic"),t.$store.state.activeIndex="/mymusic");case 11:case"end":return e.stop()}}),e)})))()},moveLogin:function(t){var e=this.$refs.loginBoxRef,n=t.clientX-e.offsetLeft,s=t.clientY-e.offsetTop;document.onmousemove=function(t){var i=t.clientX-n,a=t.clientY-s;e.style.left=i+"px",e.style.top=a+"px"},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}),computed:{}},l=u,d=(n("a028"),n("2877")),f=Object(d["a"])(l,s,i,!1,null,"b1e8f6e0",null);e["a"]=f.exports},"9eaa":function(t,e,n){"use strict";n("6027")},a028:function(t,e,n){"use strict";n("7aa4")},a342:function(t,e,n){},a3ed:function(t,e,n){"use strict";n("4a0e")},aede:function(t,e,n){},b429:function(t,e,n){"use strict";n("f26f")},b752:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"i",(function(){return r})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"g",(function(){return l})),n.d(e,"k",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"h",(function(){return m})),n.d(e,"j",(function(){return h}));var s=n("1bab");function i(t){return Object(s["a"])({url:"/album/new",params:t})}function a(t){return Object(s["a"])({url:"/album",params:{id:t}})}function o(t){return Object(s["a"])({url:"/artist/desc",params:{id:t}})}function r(t){return Object(s["a"])({url:"/simi/artist",params:{id:t}})}function c(t){return Object(s["a"])({url:"/playlist/detail",params:{id:t}})}function u(){return Object(s["a"])({url:"/playlist/catlist"})}function l(t){return Object(s["a"])({url:"/top/playlist",params:t})}function d(t){return Object(s["a"])({url:"/song/detail",params:{ids:t}})}function f(t){return Object(s["a"])({url:"/lyric",params:{id:t}})}function m(t){return Object(s["a"])({url:"/simi/playlist",params:{id:t}})}function h(t){return Object(s["a"])({url:"/simi/song",params:{id:t}})}},ca6e:function(t,e,n){},cebe:function(t,e){t.exports=axios},cf05:function(t,e,n){t.exports=n.p+"img/logo.9b2dcca1.png"},d34e:function(t,e,n){"use strict";n("60e3")},e31c:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"location"},[n("el-input",{ref:"searchInputRef",attrs:{placeholder:"请输入内容"},on:{input:function(e){return t.keyValue(e,t.cb)},focus:t.focusStatus,blur:t.blurStatus},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.SearchResult.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.SearchResult},slot:"append"})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"tipBox"},[n("div",{staticClass:"sing"},[n("p",[t._v("歌曲")]),n("ul",t._l(t.tipInfo.song,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.getSongId(e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),n("div",{staticClass:"singer"},[n("p",[t._v("歌手")]),n("ul",t._l(t.tipInfo.singer,(function(e,s){return n("li",{key:s,staticClass:"border-line",on:{click:function(n){return t.getSingerId(e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),n("div",{staticClass:"sing-list"},[n("p",[t._v("专辑")]),n("ul",t._l(t.tipInfo.singList,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.toggleNewSongInfo(e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])])],1)])},i=[],a=n("1da1"),o=n("5530"),r=(n("96cf"),n("ac1f"),n("466d"),n("498a"),n("84a1")),c=n("5880"),u={name:"search",data:function(){return{inputValue:"",tipInfo:{song:[],singer:[],singList:[]},isShow:!1}},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["searchValueMutations","SongIdMutations","singerIdMutations","albumIdMutations"])),{},{cb:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.inputValue.match(/^\S/)&&!t.inputValue.match(/^\s\s*\S+/)){e.next=11;break}return e.next=3,Object(r["b"])(t.inputValue.trim());case 3:n=e.sent,s=n.data,t.tipInfo.song=s.result.songs,t.tipInfo.singer=s.result.artists,t.tipInfo.singList=s.result.albums,t.isShow=!0,e.next=12;break;case 11:t.isShow=!1;case 12:case"end":return e.stop()}}),e)})))()},keyValue:function(t,e){e()},focusStatus:function(){this.inputValue&&(this.isShow=!0),this.cb()},blurStatus:function(){var t=this;setTimeout((function(){t.isShow=!1}),100)},SearchResult:function(){this.isShow=!1,this.$refs.searchInputRef.blur(),(this.inputValue.match(/^\S/)||this.inputValue.match(/^\s\s*\S+/))&&(this.searchValueMutations(this.inputValue),this.$bus.$emit("getResultRef"),"/search/result"!==this.$route.path&&this.$router.push("/search/result"))},getSongId:function(t){this.isShow=!1,this.SongIdMutations(t),"/songs/detail"!==this.$route.path?this.$router.push("/songs/detail"):this.$router.go(0)},getSingerId:function(t){this.isShow=!1,this.singerIdMutations(t),"/singer/detail"!==this.$route.path?this.$router.push("/singer/detail"):this.$router.go(0)},toggleNewSongInfo:function(t){this.isShow=!1,"/newSongInfo"!==this.$route.path?this.$router.push("/newSongInfo"):this.$router.go(0),this.albumIdMutations(t)}})},l=u,d=(n("9eaa"),n("2877")),f=Object(d["a"])(l,s,i,!1,null,"9bce2aaa",null);e["a"]=f.exports},e382:function(t,e,n){},f103:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{offset:2,span:14}},[n("el-card",[n("div",{staticClass:"header"},[n("div",{staticClass:"cover"},[n("img",{attrs:{src:t.newSongInfoObj.album.picUrl,alt:""}}),n("div",{staticClass:"mask"})]),n("div",{staticClass:"albumInfo"},[n("h3",[t._v(t._s(t.newSongInfoObj.album.name))]),n("p",{staticClass:"singer"},[t._v(" 歌手："),n("a",{attrs:{href:"#"},on:{click:function(e){return t.getSingerId(t.newSongInfoObj.album.artist.id)}}},[t._v(t._s(t.newSongInfoObj.album.artist.name))])]),n("p",{staticClass:"singer"},[t._v(" 发行时间："+t._s(t._f("dataFormate")(t.newSongInfoObj.album.publishTime))+" ")]),n("p",{staticClass:"singer"},[t._v("发行公司："+t._s(t.newSongInfoObj.album.company))])])]),n("div",{staticClass:"boxDec"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"dec1"},[n("p",{staticClass:"pro"},[t._v("专辑介绍")]),t._l(t.description,(function(e,s){return n("p",{key:s,ref:"decRef",refInFor:!0,staticClass:"isShowCon"},[t._v(" "+t._s(e)+" ")])}))],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowE,expression:"isShowE"}],staticClass:"dec2"},[n("p",{staticClass:"pro"},[t._v("专辑介绍")]),t._l(t.description,(function(e,s){return n("p",{key:s,ref:"decRef",refInFor:!0,staticClass:"isShowCon"},[t._v(" "+t._s(e)+" ")])}))],2),t.showText?n("div",{staticClass:"show",on:{click:t.doShowText}},[t._v("展开")]):n("div",{staticClass:"show",on:{click:t.doShowTextE}},[t._v("收起")])]),n("div",{staticClass:"list"},[n("h4",[t._v("包含歌曲列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.newSongInfoObj.songs,stripe:""}},[n("el-table-column",{attrs:{type:"index",label:"#",width:"60"}}),n("el-table-column",{attrs:{width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"iconfont icon-hm_video_light",on:{click:function(n){return t.playAudio(e.row.id)}}}),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"播放mv",placement:"bottom-end",enterable:!1}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.row.mv,expression:"scope.row.mv"}],staticClass:"iconfont icon-chakanMV",on:{click:function(n){return t.saveMvId(e.row.mv)}}})])]}}])}),n("el-table-column",{attrs:{label:"歌曲",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"row_po",on:{click:function(n){return t.getSongId(e.row.id)}}},[t._v(t._s(e.row.name))])]}}])}),n("el-table-column",{attrs:{label:"歌手"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.ar,(function(s,i){return n("span",{key:s.id,staticClass:"row_po",on:{click:function(e){return t.getSingerId(s.id)}}},[t._v(t._s(s.name)),i!==e.row.ar.length-1?n("i",[t._v("/")]):t._e()])}))}}])}),n("el-table-column",{attrs:{prop:"dt",label:"时长",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("secondFormate")(e.row.dt))+" ")]}}])})],1)],1),n("album-coment",{attrs:{albumComentsObj:t.albumComents}}),n("el-pagination",{attrs:{"current-page":this.pageNum,"page-sizes":[20,100,200,400],"page-size":this.queryInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:this.albumComents.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-card",[n("div",{staticClass:"newSongs"},[t._v("关于歌手")]),n("div",t._l(t.singerDec,(function(e,s){return n("p",{key:s,staticClass:"singerDec"},[t._v(" "+t._s(e)+" ")])})),0)]),n("el-row",[n("el-col",[n("el-card",[n("div",{staticClass:"newSongs"},[t._v("相似歌手推荐")]),n("div",{staticClass:"singerTag"},t._l(t.simiSingers,(function(e,s){return n("el-tag",{key:s,attrs:{type:"success"},on:{click:function(n){return t.getSingerId(e.id)}}},[n("img",{attrs:{src:e.picUrl}}),t._v(" "+t._s(e.name)+" ")])})),1)])],1)],1)],1)],1)],1)},i=[],a=n("1da1"),o=n("5530"),r=(n("96cf"),n("a4d3"),n("e01a"),n("ac1f"),n("1276"),n("a15b"),n("d3b7"),n("b752")),c=n("0250"),u=n("7fe5"),l=n("5880"),d={name:"newSongInfo",data:function(){return{newSongInfoObj:{album:{artist:{id:""}},songs:[]},description:[],isShow:!0,isShowE:!1,showText:!0,queryInfo:{id:this.$store.state.albumId,limit:20,offset:0,before:null},albumComents:{total:0,comments:[],hotComments:[]},pageNum:1,singerDec:[],simiSingers:[]}},created:function(){this.getNewSongInfoRef(),this.getAlbumCommentRef(),this.getSimiSingerRef()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({getNewSongInfoRef:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["d"])(t.$store.state.albumId);case 2:if(n=e.sent,s=n.data,200===s.code){e.next=6;break}return e.abrupt("return",t.$message.error("获取新碟详情失败"));case 6:t.description=s.album.description.split().join().split("\n\n").join("\n").split("\n"),t.newSongInfoObj.album=s.album,t.newSongInfoObj.songs=s.songs,t.newSongInfoObj.album.artist.id=s.album.artist.id,t.getAlbumDetRef();case 11:case"end":return e.stop()}}),e)})))()},doShowText:function(){this.isShow=!1,this.isShowE=!0,this.showText=!1},doShowTextE:function(){this.isShow=!0,this.isShowE=!1,this.showText=!0},getAlbumCommentRef:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(t.queryInfo);case 2:if(n=e.sent,s=n.data,200===s.code){e.next=6;break}return e.abrupt("return",t.$message.error("评论获取失败"));case 6:t.albumComents.total=s.total,t.albumComents.comments=s.comments,t.albumComents.hotComments=s.hotComments;case 9:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.queryInfo.limit=t,this.getAlbumCommentRef()},handleCurrentChange:function(t){this.pageNum=t,this.queryInfo.offset=(t-1)*this.queryInfo.limit,this.getAlbumCommentRef()},getAlbumDetRef:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])(t.newSongInfoObj.album.artist.id);case 2:if(n=e.sent,s=n.data,200===s.code){e.next=6;break}return e.abrupt("return",t.$message.error("新歌速递获取失败"));case 6:t.singerDec=s.briefDesc.split().join().split("\n\n");case 7:case"end":return e.stop()}}),e)})))()},getSimiSingerRef:function(){var t=this;new Promise((function(e,n){""===t.newSongInfoObj.album.artist.id&&(t.newSongInfoObj.album.artist.id=Object(r["d"])(t.$store.state.albumId).then((function(t){return t.data.album.artist.id})),e(t.newSongInfoObj.album.artist.id)),n()})).then((function(e){Object(r["i"])(e).then((function(e){t.simiSingers=e.data.artists}))})).catch((function(t){return t}))}},Object(l["mapMutations"])(["singerIdMutations","SongIdMutations","musicUrlMutations","mvIdMutations"])),Object(l["mapActions"])(["getSongsDetActions"])),{},{getSingerId:function(t){this.singerIdMutations(t),this.$router.push("/singer/detail")},getSongId:function(t){this.SongIdMutations(t),this.$router.push("/songs/detail")},playAudio:function(t){this.musicUrlMutations(t),this.getSongsDetActions(t),this.$bus.$emit("onPlay")},saveMvId:function(t){this.mvIdMutations(t),this.$router.push("/mvdet")}}),components:{AlbumComent:u["a"]}},f=d,m=(n("b429"),n("2877")),h=Object(m["a"])(f,s,i,!1,null,"5b548671",null);e["default"]=h.exports},f134:function(t,e,n){"use strict";n("6797")},f26f:function(t,e,n){},fcc3:function(t,e,n){"use strict";n("ca6e")}});
//# sourceMappingURL=app.1876c245.js.map