/*! 最终版权归 youngFuns 所有 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cb248fa"],{"1d4a":function(e,t,n){"use strict";n("ba43")},"31c1":function(e,t,n){},a9db:function(e,t,n){"use strict";n("e5d7")},b3d7:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("BannerImg",{attrs:{bannerInfo:e.banner}}),n("NewSongs",{on:{getArea:e.getAreaInfo}}),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":e.pageInfo.pageNum,"page-sizes":[30,60,100,200],"page-size":e.newSongsInfo.queryInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.newSongsInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],o=n("1da1"),s=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-col",{attrs:{span:20,offset:2}},[n("el-carousel",{attrs:{interval:4e3,type:"card",height:"235px"}},e._l(e.bannerInfo,(function(t,a){return n("el-carousel-item",{key:a},[n("h3",{staticClass:"medium"},[n("img",{attrs:{src:t.imageUrl,alt:""},on:{click:function(n){return e.saveId(t)}}})])])})),1)],1)],1)],1)}),i=[],u=n("5530"),c=n("5880"),f={name:"banner",props:{bannerInfo:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:Object(u["a"])(Object(u["a"])({},Object(c["mapMutations"])(["mvIdMutations","SongIdMutations","albumIdMutations"])),{},{saveId:function(e){1004===e.targetType?(this.mvIdMutations(e.targetId),this.$router.push("/mvdet")):3e3===e.targetType?window.open(e.url):1===e.targetType?(this.SongIdMutations(e.targetId),this.$router.push("/songs/detail")):10===e.targetType&&(this.albumIdMutations(e.targetId),this.$router.push("/newSongInfo"))}})},l=f,g=(n("e6d0"),n("2877")),p=Object(g["a"])(l,s,i,!1,null,"0f842f0a",null),d=p.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-col",{attrs:{offset:2,span:20}},[n("el-card",[n("div",{staticClass:"header"},[n("h3",[n("span",[e._v("全部新碟")])]),n("div",{staticClass:"tip"},[n("a",{on:{click:function(t){return t.preventDefault(),e.toggleZH.apply(null,arguments)}}},[e._v("华语")]),n("span",[e._v("|")]),n("a",{on:{click:function(t){return t.preventDefault(),e.toggleEA.apply(null,arguments)}}},[e._v("欧美")]),n("span",[e._v("|")]),n("a",{on:{click:function(t){return t.preventDefault(),e.toggleKR.apply(null,arguments)}}},[e._v("韩国")]),n("span",[e._v("|")]),n("a",{on:{click:function(t){return t.preventDefault(),e.toggleJP.apply(null,arguments)}}},[e._v("日本")])])]),n("ul",e._l(this.$store.state.resSongs,(function(t){return n("li",{key:t.id},[n("div",{staticClass:"cover"},[n("img",{attrs:{src:t.picUrl,alt:""}}),n("a",{staticClass:"mask",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.toggleNewSongInfo(t.id)}}}),n("p",[e._v(e._s(t.name))]),n("p",[e._v(e._s(t.artist.name))])])])})),0)])],1)],1)],1)},m=[],I={name:"newSongs",data:function(){return{}},methods:Object(u["a"])(Object(u["a"])({toggleZH:function(){this.$emit("getArea","ZH")},toggleEA:function(){this.$emit("getArea","EA")},toggleKR:function(){this.$emit("getArea","KR")},toggleJP:function(){this.$emit("getArea","JP")}},Object(c["mapMutations"])(["albumIdMutations"])),{},{toggleNewSongInfo:function(e){this.$router.push("/newSongInfo"),this.albumIdMutations(e)}})},b=I,v=(n("1d4a"),Object(g["a"])(b,h,m,!1,null,"4ca6f473",null)),w=v.exports,S=n("f103"),y=n("1bab");function _(){return Object(y["a"])({url:"/banner?type=0"})}var k=n("b752"),$={name:"home",data:function(){return{banner:[],newSongsInfo:{total:0,queryInfo:{limit:30,offset:0,area:""}},pageInfo:{pageNum:1,total:0}}},methods:{getBannerImgRef:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:if(n=t.sent,a=n.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取 banner 图失败"));case 6:e.banner=a.banners;case 7:case"end":return t.stop()}}),t)})))()},getNewSongsRef:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(k["c"])(e.newSongsInfo.queryInfo);case 2:if(n=t.sent,a=n.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error("新碟列表请求失败"));case 6:e.$store.state.resSongs=a.albums,e.newSongsInfo.total=a.total;case 8:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.newSongsInfo.queryInfo.limit=e,this.getNewSongsRef()},handleCurrentChange:function(e){this.pageInfo.pageNum=e,this.newSongsInfo.queryInfo.offset=(this.pageInfo.pageNum-1)*this.newSongsInfo.queryInfo.limit,this.getNewSongsRef()},getAreaInfo:function(e){this.newSongsInfo.queryInfo.area=e,this.newSongsInfo.queryInfo.offset,this.getNewSongsRef()}},created:function(){this.getBannerImgRef(),this.getNewSongsRef()},components:{BannerImg:d,NewSongs:w,newSongInfo:S["default"]}},j=$,R=(n("a9db"),Object(g["a"])(j,a,r,!1,null,"0b14e291",null));t["default"]=R.exports},ba43:function(e,t,n){},e5d7:function(e,t,n){},e6d0:function(e,t,n){"use strict";n("31c1")}}]);
//# sourceMappingURL=chunk-7cb248fa.3f211814.js.map